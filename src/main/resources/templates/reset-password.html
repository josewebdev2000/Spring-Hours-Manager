<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:lang="en">
<head th:replace="~{fragments/head.html :: head}"></head>
<body>
<!-- Header -->
<header th:replace="~{fragments/header.html :: header}"></header>

<!--Main Content-->
<main role="main">
    <div class="login-container">
        <div class="login-box" th:if="${isTokenValid}">
            <h2 class="fsize-200-e dark-purple-color">Reset your password</h2>
            <input type="hidden" id="spring-user-email" th:value="${springUserEmail}">
            <form id="reset-password-form" enctype="multipart/form-data" novalidate>
                <div class="form-group position-relative">
                    <label for="password">New Password</label>
                    <input type="password" class="form-control" name="password" id="password" placeholder="Enter your password" required>
                    <span id="reset-password-icon" class="password-icon bi bi-eye-fill"></span>
                    <div class="valid-tooltip password">New Password Looks Good</div>
                    <div class="invalid-tooltip password"></div>
                </div>
                <div class="form-group position-relative">
                    <label for="confirm_password">Confirm New Password</label>
                    <input type="password" class="form-control" name="confirm_password" id="confirm_password" placeholder="Confirm your password" required>
                    <span id="reset-confirm-password-icon" class="password-icon bi bi-eye-fill"></span>
                    <div class="valid-tooltip confirm_password">New Password Confirmation Looks Good</div>
                    <div class="invalid-tooltip confirm_password"></div>
                </div>
                <button id="reset-password" class="btn btn-purple btn-block" type="submit">Reset Password</button>
            </form>
            <div class="form-group p-3 m-2">
                <div id="form-alerts-container"></div>
            </div>
        </div>
        <div class="login-box" th:if="${!isTokenValid}">
            <h2 class="fsize-200-e text-danger text-center">Invalid Reset Password Token</h2>
            <p class="fsize-120 text-center">The password reset token provided is invalid because it expired or it was not given.</p>
            <p class="fsize-120 text-center">Please request again to get a new link to reset your password</p>
            <a id="key-link" class="btn btn-purple btn-block btn-lg text-white text-decoration-none" href="/forgot-password" th:href="${baseUrl + '/forgot-password'}">Request New Link</a>
        </div>
    </div>
</main>

<!-- Footer -->
<footer th:replace="~{fragments/footer.html :: footer}"></footer>
<!--Body Scripts-->
<div th:replace="~{fragments/bottom.html :: body-scripts}"></div>
</body>
</html>
